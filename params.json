{"name":"EmbeddedMail","body":"# EmbeddedMail\r\n\r\n## Overview\r\n\r\nIntegration testing against e-mail almost always sucks. EmbeddedMail doesn't remove all of that pain, but it certainly helps it suck less. It's just a simple class library with **0 dependencies**.\r\n\r\n### Show me the code\r\n\r\nHere's some simple example code:\r\n\r\n\tvar server = new EmeddedSmtpServer(8181);\r\n\tserver.Start();\r\n\t\r\n\tvar message = new MailMessage(\"x@domain.com\", \"y@domain.com\", \"Hello there\", \"O hai\");\r\n\tusing(var client = new SmtpClient(\"localhost\", 8181))\r\n\t{\r\n\t\tclient.Send(message);\r\n\t}\r\n\t\r\n\tserver.Stop();\r\n\t\r\n\tvar received = server.ReceivedMessages().First();\r\n\t\r\n\treceived.Body.ShouldEqual(message.Body);\r\n\treceived.Subject.ShouldEqual(message.Subject);\r\n\r\n### How it works\r\n\r\nThe idea is that you collapse your app-domain for integration-testing purposes by embedding an SMTP server inside of your tests. You then run some code that would shoot out emails, stop the smtp server, and make assertions on the messages that were received (e.g., \"The body should be...\")\r\n\r\n### NuGet\r\n\r\n> Install-Package EmbeddedMail\r\n\r\n### Shout outs\r\n\r\nI took a look at some of the existing solutions out there and found two:\r\n\r\n* netDumpster\r\n* nDumpster\r\n\r\nSome of the message parsing \"borrows\" some code found in netDumpster (thanks Carlos and Eric for your contributions -- your work is cited). \r\n\r\nAlso, I borrowed some socket/logging code from Jason Staten and his excellent Fleck library.","tagline":"Integration testing against e-mail almost always sucks. EmbeddedMail doesn't remove all of that pain, but it certainly helps it suck less by providing an in-memory SMTP server that you can assert on.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}